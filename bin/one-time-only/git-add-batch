# I used this only once to add all the vim submodules
shopt -s extglob
while IFS= read -r line; do
    # I was never able to come up with a regex that could do both checks at the same time
    if [[ $line =~ ^[:space:]*# ]]; then 
        continue
    fi
    if [[ $line =~ [:blank:]*path\ \=\ .* ]]; then 
        path=${line/path = }
    fi
    if [[ $line =~ [:blank:]*url\ \=\ .* ]]; then 
        git submodule add ${line/url = } $path
    fi
done < gitmodules.junkp
